<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.3/paho-mqtt.min.js"></script>
<script>
    var map;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: -34.397, lng: 150.644},
            zoom: 8
        });
    }

    function addMarker(lat, lng) {
        new google.maps.Marker({
            position: {lat: lat, lng: lng},
            map: map
        });
    }

    function onMessageArrived(message) {
        var payload = JSON.parse(message.payloadString);
        addMarker(payload.latitude, payload.longitude);
    }

    // Configure MQTT client connection
    var client = new Paho.MQTT.Client("192.168.0.95", YOUR_BROKER_PORT, "8080");
    client.onMessageArrived = onMessageArrived;
    client.connect({onSuccess: function() {
        client.subscribe("gps/data");
    }});
</script>
